{% comment %} <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>customer page</title>
  </head>
  <body>
    <h1>hello {{ user.username }} your role is cutomer</h1>
  </body>
</html>
{% endcomment %}

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>CampusAssist</title>

    <!-- Bootstrap CSS CDN -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
      integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
      crossorigin="anonymous"
    />
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="../static/css/css/home.css" />
    <link rel="stylesheet" href="../static/css/css/calendar.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <!-- Font Awesome JS -->
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
      integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
      crossorigin="anonymous"
    ></script>
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
      integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <div class="wrapper1">
      <!-- Sidebar  -->
      <nav id="sidebar">
        <div class="sidebar-header">
          <h3>CampusAssist</h3>
        </div>

        <ul class="list-unstyled components">
          <li>
            <i class="fa-solid fa-house" style="color: #ffffff"></i>
            <a id="dashboard" href="#"> Dashboard</a>
          </li>
          <li>
            <a href="#" id="details">Student Details</a>
          </li>
          <li>
            <a href="#" id="drives">Placement Drives</a>
          </li>

          <li>
            <a href="#" id="calendar">Full Calendar</a>
          </li>
          <li>
            <a href="#" id="studentchat">HelpDesk</a>
          </li>
        </ul>

        <ul class="list-unstyled CTAs">
          <li>
            <a href="/login" class="article">Log Out</a>
          </li>
        </ul>
      </nav>

      <!-- Page Content  -->
      <div id="content">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
          <div class="container-fluid">
            <button type="button" id="sidebarCollapse" class="btn btn-info">
              <i class="fas fa-align-left"></i>
              <span></span>
            </button>
            <button
              class="btn btn-dark d-inline-block d-lg-none ml-auto"
              type="button"
              data-toggle="collapse"
              data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <i class="fas fa-align-justify"></i>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="nav navbar-nav ml-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="#">STUDENT</a>
                </li>
                
              </ul>
            </div>
          </div>
        </nav>

        <!-- CONTENT AREA STARTS -->

        <!-- PAGE 1 CONTENT STARTS -->
        <div class="profile-page">
          <div id="page1Content" style="display: none">
            <h3>Student Profile</h3>
            <div class="profile-wrap">
              <div class="">
                <div class="profile-row1">
                  <p>Profile</p>
                  <button type="button" id="editProfileBtn" class="download">
                    Edit Profile
                  </button>
                </div>
              </div>

              <div class="row r1">
                <div class="user-card row">
                  <div class="col-12 wrap-data">
                    <div class="card-data pt-5">
                      <h3 id="profileName">Divya Smreeti</h3>
                      <p class="text-muted">Student</p>

                      <div class="data-wrap">
                        <div class="text-bold">
                          <div>Department</div>
                          <div>Enrollment No.</div>
                          <div>Proficiency</div>
                          <div>Contact No.</div>
                          <div>Email Id</div>
                          <div>Present Address</div>
                        </div>
                        <div class="text-ans">
                          <div id="department">IT</div>
                          <div id="enrollmentNo">GGV/21/01421</div>
                          <div id="proficiency">DSA</div>
                          <div id="contactNo">8936010020</div>
                          <div id="email">divyasmreeti@gmail.com</div>
                          <div id="address">Ranchi, Jharkhand</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="editProfileForm" style="display: none">
            <h3>Edit Profile</h3>
            <div class="edit-frm">
              <form id="profileForm">
                <div class="edit-frm-box">
                  <div class="edt-frm-ques-box">
                    <div><label for="editName">Name:</label></div>

                    <div><label for="editDepartment">Department:</label></div>

                    <div>
                      <label for="editEnrollmentNo">Enrollment No.:</label>
                    </div>

                    <div><label for="editProficiency">Proficiency:</label></div>

                    <div><label for="editContactNo">Contact No.:</label></div>

                    <div><label for="editEmail">Email Id:</label></div>

                    <div><label for="editAddress">Present Address:</label></div>
                  </div>

                  <div class="edt-frm-ipbox">
                    <div class="">
                      <input type="text" id="editName" required />
                    </div>
                    <div class="">
                      <input type="text" id="editDepartment" required />
                    </div>
                    <div class="">
                      <input type="text" id="editEnrollmentNo" required />
                    </div>
                    <div class="">
                      <input type="text" id="editProficiency" required />
                    </div>
                    <div class="">
                      <input type="text" id="editContactNo" required />
                    </div>
                    <div class="">
                      <input type="email" id="editEmail" required />
                    </div>
                    <div class="">
                      <input type="text" id="editAddress" required />
                    </div>
                  </div>
                </div>
                <div class="edt-frm-btns">
                  <button type="submit">Save Profile</button>
                  <button type="button" id="cancelEditBtn">Cancel</button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- PAGE 2 CONTENT  -->
        <div id="page2Content" style="display: none">
          <div class="wrapper">
            <div class="container-calendar">
              <div id="left">
                <h1>Dynamic Calendar</h1>
                <div id="event-section">
                  <h3>Add Event</h3>
                  <input type="date" id="eventDate" />
                  <input
                    type="text"
                    id="eventTitle"
                    placeholder="Event Title"
                  />
                  <input
                    type="text"
                    id="eventDescription"
                    placeholder="Event Description"
                  />
                  <button id="addEvent" onclick="addEvent()">Add</button>
                </div>
                <div id="reminder-section">
                  <h3>Reminders</h3>
                  <!-- List to display reminders -->
                  <ul id="reminderList">
                    <li data-event-id="1">
                      <strong>Event Title</strong>
                      - Event Description on Event Date
                      <button class="delete-event" onclick="deleteEvent(1)">
                        Delete
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
              <div id="right">
                <h3 id="monthAndYear"></h3>
                <div class="button-container-calendar">
                  <button id="previous" onclick="previous()">‹</button>
                  <button id="next" onclick="next()">›</button>
                </div>
                <table class="table-calendar" id="calendar" data-lang="en">
                  <thead id="thead-month"></thead>
                  <!-- Table body for displaying the calendar -->
                  <tbody id="calendar-body"></tbody>
                </table>
                <div class="footer-container-calendar">
                  <label for="month">Jump To: </label>
                  <!-- Dropdowns to select a specific month and year -->
                  <select id="month" onchange="jump()">
                    <option value="0">Jan</option>
                    <option value="1">Feb</option>
                    <option value="2">Mar</option>
                    <option value="3">Apr</option>
                    <option value="4">May</option>
                    <option value="5">Jun</option>
                    <option value="6">Jul</option>
                    <option value="7">Aug</option>
                    <option value="8">Sep</option>
                    <option value="9">Oct</option>
                    <option value="10">Nov</option>
                    <option value="11">Dec</option>
                  </select>
                  <!-- Dropdown to select a specific year -->
                  <select id="year" onchange="jump()"></select>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- PAGE 2 CONTENT ENDS  -->

        <!-- PAGE FOR COMMENT SECTION STARTS -->
        <div id="pageCommentContent" style="display: none">
          
        </div>
        <!-- PAGE FOR COMMENT SECTION ENDS -->

        <!-- PAGE 3 CONTENT STARTS -->
        <div class="drive-page">
          <div id="page3Content" style="display: none">
            <div class="heading-drive">
              <div>Placement Drives Info</div>
              <a href="/analyze" > ANALYZE </a>
              <!-- ADD DRIVE BUTTON -->
              <!-- <button id="addDriveBtn" class="btn-success">
                <a href="#">Add Drive</a>
              </button> -->
            </div>

            <!-- CARDS FOR THE PAGE STARTS -->
            <!-- CARD START -->
            {% for n in companyData %}
            <div class="container mt-5 mb-3">
              <div class="row">
                <div class="col-md-12 mb-5">
                  <div class="card p-3 mb-2">
                    <div class="d-flex justify-content-between">
                      <div class="d-flex flex-row align-items-center">
                        <div class="ms-2 c-details">
                          <h4 class="mb-0">{{n.company_name}}</h4>
                          <span>1 days ago</span>
                        </div>
                      </div>
                      <div class="badge">
                        <span class="badge1">Active</span>
                      </div>
                    </div>
                    <div class="mt-5">
                      <h6>{{n.company_location}}</h6>
                      <p>Job Description : {{n.job_description}}</p>
                      <h6>Eligibility: {{n.eligibility}}</h6>
                      <h6>Skills Required :{{n.skills}}</h6>
                      <h6>Min Stipend :{{n.min_stipend}}</h6>
                      <h6>Max Stipend :{{n.max_stipend}}</h6>
                      <h6>Date :{{n.date}}</h6>
                      <h6>Venue :{{n.venue}}</h6>
                      <h6>Last Date to Apply :{{n.last_date}}</h6>
                    </div>
                  </div>
                </div>

                <div>
                  <h1>Comment Section</h1>
                  <div class="comments">
                    <input
                      type="text"
                      id="commentInput"
                      placeholder="Comment about your company of interest among the above given companies "
                    />
                    <button onclick="postComment()">Post</button>

                    <div id="commentList"></div>
                  </div>
                </div>

                
                
              </div>
            </div>
            {% endfor %}
            <!-- CARD ENDS  -->
          </div>
        </div>
      </div>
    </div>

    <!-- PAGE 1 CONTENT ENDS -->

    <!-- CONTENT AREA ENDS -->

    <script>
      // Function to save profile details to local storage
      function saveProfileToLocalStorage() {
        const profileData = {
          name: document.getElementById("profileName").textContent,
          department: document.getElementById("department").textContent,
          enrollmentNo: document.getElementById("enrollmentNo").textContent,
          proficiency: document.getElementById("proficiency").textContent,
          contactNo: document.getElementById("contactNo").textContent,
          email: document.getElementById("email").textContent,
          address: document.getElementById("address").textContent,
        };

        localStorage.setItem("profileData", JSON.stringify(profileData));
      }

      // Function to load profile details from local storage
      function loadProfileFromLocalStorage() {
        const profileDataString = localStorage.getItem("profileData");
        if (profileDataString) {
          const profileData = JSON.parse(profileDataString);
          document.getElementById("profileName").textContent = profileData.name;
          document.getElementById("department").textContent =
            profileData.department;
          document.getElementById("enrollmentNo").textContent =
            profileData.enrollmentNo;
          document.getElementById("proficiency").textContent =
            profileData.proficiency;
          document.getElementById("contactNo").textContent =
            profileData.contactNo;
          document.getElementById("email").textContent = profileData.email;
          document.getElementById("address").textContent = profileData.address;
        }
      }

      // Edit Profile Button
      document
        .getElementById("editProfileBtn")
        .addEventListener("click", function () {
          document.getElementById("page1Content").style.display = "none";
          document.getElementById("editProfileForm").style.display = "block";

          // Fill form fields with current profile details
          document.getElementById("editName").value =
            document.getElementById("profileName").textContent;
          document.getElementById("editDepartment").value =
            document.getElementById("department").textContent;
          document.getElementById("editEnrollmentNo").value =
            document.getElementById("enrollmentNo").textContent;
          document.getElementById("editProficiency").value =
            document.getElementById("proficiency").textContent;
          document.getElementById("editContactNo").value =
            document.getElementById("contactNo").textContent;
          document.getElementById("editEmail").value =
            document.getElementById("email").textContent;
          document.getElementById("editAddress").value =
            document.getElementById("address").textContent;
        });

      // Cancel Edit Button
      document
        .getElementById("cancelEditBtn")
        .addEventListener("click", function () {
          document.getElementById("page1Content").style.display = "block";
          document.getElementById("editProfileForm").style.display = "none";
        });

      // Save Profile Button
      document
        .getElementById("profileForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          // Update profile details
          document.getElementById("profileName").textContent =
            document.getElementById("editName").value;
          document.getElementById("department").textContent =
            document.getElementById("editDepartment").value;
          document.getElementById("enrollmentNo").textContent =
            document.getElementById("editEnrollmentNo").value;
          document.getElementById("proficiency").textContent =
            document.getElementById("editProficiency").value;
          document.getElementById("contactNo").textContent =
            document.getElementById("editContactNo").value;
          document.getElementById("email").textContent =
            document.getElementById("editEmail").value;
          document.getElementById("address").textContent =
            document.getElementById("editAddress").value;

          // Save updated profile details to local storage
          saveProfileToLocalStorage();

          // Display original profile view
          document.getElementById("page1Content").style.display = "block";
          document.getElementById("editProfileForm").style.display = "none";
        });

      // Load profile details from local storage when the page loads
      window.addEventListener("load", function () {
        loadProfileFromLocalStorage();
      });

      // FOR COMMENTS SECTION

      // Function to retrieve comments from localStorage
      function getComments() {
        return JSON.parse(localStorage.getItem("comments")) || [];
      }

      // Function to save comments to localStorage
      function saveComments(comments) {
        localStorage.setItem("comments", JSON.stringify(comments));
      }

      // Function to display comments on the page
      function displayComments() {
        const commentList = document.getElementById("commentList");
        const comments = getComments();
        commentList.innerHTML = "";
        comments.forEach((comment, index) => {
          const commentItem = document.createElement("div");
          commentItem.classList.add("comment-item");
          commentItem.innerHTML = `
            <p>${comment}</p>
            <button onclick="deleteComment(${index})">Delete</button>
        `;
          commentList.appendChild(commentItem);
        });
      }

      // Function to post a new comment
      function postComment() {
        const commentInput = document.getElementById("commentInput");
        const comment = commentInput.value.trim();
        if (comment !== "") {
          const comments = getComments();
          comments.push(comment);
          saveComments(comments);
          displayComments();
          commentInput.value = "";
        }
      }

      // Function to delete a comment
      function deleteComment(index) {
        const comments = getComments();
        comments.splice(index, 1);
        saveComments(comments);
        displayComments();
      }

      // Display existing comments on page load
      window.onload = function () {
        displayComments();
      };
    </script>
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <!-- Popper.JS -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
      integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
      crossorigin="anonymous"
    ></script>
    <!-- Bootstrap JS -->
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
      integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
      crossorigin="anonymous"
    ></script>
    <script src="../static/jsfolder/calendar.js"></script>
    <script src="../static/jsfolder/home.js"></script>
  </body>
</html>
